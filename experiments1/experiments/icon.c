
// This experiment tries out encoding and drawing an image.

#include "BIOS.h"
#include "main.h"
#include "input.h"
#include "image.h"


u16 const image1_pixels[] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x8eb0, 0x0000, 0x0000, 0x0000, 0xa714, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x8670, 0x0000, 0x0000, 0x0000, 0x9ef3, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x762c, 0x0000, 0x866e, 0x0000, 0x8eb0, 0x0000, 0x96d3, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x5dca, 0x65eb, 0x660b, 0x0000, 0x764e, 0x0000, 0x8670, 0x0000, 0x96b1, 0x96d3, 0x9ef3, 0xa714, 0x0000, 0x0000, 0x5da8, 0x5dc9, 0x65eb, 0x0000, 0x762c, 0x0000, 0x866e, 0x0000, 0x8eb0, 0x96b1, 0x96d3, 0x9ef3, 0x0000, 0x0000, 0x0000, 0x0000, 0x5dca, 0x0000, 0x6e0c, 0x0000, 0x764e, 0x0000, 0x8670, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x65eb, 0x0000, 0x0000, 0x0000, 0x866e, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x5dca, 0x0000, 0x0000, 0x0000, 0x764e, 0x0000, 0x0000, 0x0000, 0x0000
};
Image16bit const image1 =
{
  width: 8,
  height: 14,
  pixels: image1_pixels,
};


u8 const image2_data[] = {
  0x00, 0x00, 0x10, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x40, 0x00, 0x00, 0x00, 0x50, 0x60, 0x10, 0x70, 0x00, 0x00, 0x80, 0xa9, 0xb0, 0x30, 0xc0, 0x47, 0x02, 0xd0, 0x9e, 0x50, 0x60, 0x10, 0x7c, 0x04, 0x00, 0x80, 0xf0, 0xb0, 0x30, 0x00, 0x00, 0x00, 0x00, 0x90, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0xb0, 0x00, 0x00
};
ImageCLUT16 const image2 =
{
  width: 8,
  height: 14,
  colors: {0x0000, 0x8eb0, 0xa714, 0x8670, 0x9ef3, 0x762c, 0x866e, 0x96d3, 0x5dca, 0x65eb, 0x660b, 0x764e, 0x96b1, 0x5da8, 0x5dc9, 0x6e0c},
  data: image2_data,
};


void icon_main()
{
  InputEvent  ev;

  draw_image_16bit( &image1, 0, 0);
  draw_image_clut16( &image2, 16, 0);

  while( should_run)
  {
    check_event( &ev);
    if ( BUTTON4 == ev.input)
      should_run = false;
  }
}

